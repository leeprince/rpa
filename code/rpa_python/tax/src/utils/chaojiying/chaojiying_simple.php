<?php


$url = 'http://upload.chaojiying.net/Upload/Processing.php';

// --- 原始图片base64。无需添加base64图片头部标识：`data:image/png;base64,`
// 读取文件再转图片base64
/*
$imageback_content = file_get_contents("./1.png");
$base64_str = base64_encode($imageback_content);
**/

// >>> 'codetype' => "1902", // 常见4~6位英文数字 <<<
// 原始图片base64
$base64_str = "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";
// >>> 'codetype' => "1902", // 常见4~6位英文数字-end <<<


// --- 'codetype' => "9101", // 坐标选一,返回格式:x,y <<<
$imageback_content = file_get_contents("./typora/canvasElemImg.test.png");
$base64_str = base64_encode($imageback_content);
// --- 'codetype' => "9101", // 坐标选一,返回格式:x,y字-end <<<

// --- 原始图片base64。无需添加base64图片头部标识：`data:image/png;base64,` -end ---

$fields = array(
    'user' => "用户名XXX",
    'pass2' => "密码XXX",
    'softid' => "901598",
    //'codetype' => "1902", // 常见4~6位英文数字
    'codetype' => "9101", // 坐标选一,返回格式:x,y
    'file_base64' => $base64_str // 原始图片base64
);

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_POST, count($fields));
curl_setopt($ch, CURLOPT_POSTFIELDS, $fields);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); // 获取数据返回
curl_setopt($ch, CURLOPT_BINARYTRANSFER, true); // 在启用 CURLOPT_RETURNTRANSFER 时候将获取数据返回
curl_setopt($ch, CURLOPT_REFERER, '');
curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3');
$result = curl_exec($ch);
curl_close($ch);

$json = json_decode($result, true);

var_dump(['res' => $result, 'json' => $json]);
